{
  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=PDV_02;Uid=root;Pwd=root;AllowPublicKeyRetrieval=true;SslMode=None;",
    "ControleFluxoCaixaConnectionString": "Server=localhost;Database=PDV_02;Uid=root;Pwd=root;AllowPublicKeyRetrieval=true;SslMode=None;",
    "RabbitMQ": "amqp://guest:guest@localhost:5672/"
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information",
        "System": "Warning",
        "Microsoft.EntityFrameworkCore": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "restrictedToMinimumLevel": "Debug",
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "logs/pdv-api-.log",
          "restrictedToMinimumLevel": "Information",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 30,
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] {CorrelationId} {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [
      "FromLogContext",
      "WithCorrelationId",
      "WithEnvironmentName",
      "WithMachineName",
      "WithProcessId",
      "WithThreadId"
    ]
  },
  "RabbitMQ": {
    "HostName": "localhost",
    "UserName": "guest",
    "Password": "guest"
  },
  "Authentication": {
    "JwtSecret": "PDV-System-Super-Secret-Key-For-JWT-Token-Generation-2024",
    "Issuer": "PDV-System",
    "Audience": "PDV-Users",
    "TokenExpirationMinutes": 60,
    "RefreshTokenExpirationDays": 7
  },
  "Cache": {
    "DefaultExpirationMinutes": 30,
    "SlidingExpirationMinutes": 10,
    "EnableCaching": true,
    "MaxCacheSize": 1000
  },
  "Backup": {
    "BackupDirectory": "backups",
    "RetentionDays": 30,
    "CompressBackups": true,
    "VerifyWithTestRestore": false
  },
  "BackupSchedule": {
    "EnableScheduledBackups": true,
    "DatabaseBackupSchedule": {
      "Enabled": true,
      "Type": "Database",
      "Frequency": "Daily",
      "Interval": 1,
      "PreferredTime": "02:00:00"
    },
    "FileBackupSchedule": {
      "Enabled": true,
      "Type": "Files",
      "Frequency": "Weekly",
      "Interval": 1,
      "PreferredTime": "03:00:00"
    },
    "FullBackupSchedule": {
      "Enabled": true,
      "Type": "Full",
      "Frequency": "Monthly",
      "Interval": 1,
      "PreferredTime": "01:00:00"
    },
    "DatabaseRetentionDays": 30,
    "FileRetentionDays": 7,
    "FullBackupRetentionDays": 90,
    "FileBackupPaths": [
      "appsettings.json",
      "appsettings.Development.json",
      "appsettings.Production.json",
      "logs",
      "wwwroot"
    ]
  },
  "HealthChecks": {
    "EvaluationTimeInSeconds": 30,
    "MaximumHistoryEntriesPerEndpoint": 50,
    "UI": {
      "MaximumExecutionHistoriesPerEndpoint": 100,
      "ApiPath": "/health-ui-api",
      "UIPath": "/health-ui"
    }
  },
  "Sefaz": {
    "Environment": "Homologacao",
    "UF": "SP",
    "CNPJ": "12345678000195",
    "InscricaoEstadual": "123456789",
    "RazaoSocial": "Empresa Teste LTDA",
    "NomeFantasia": "Loja Teste",
    "Endereco": {
      "Logradouro": "Rua Teste, 123",
      "Numero": "123",
      "Bairro": "Centro",
      "CodigoMunicipio": "3550308",
      "NomeMunicipio": "São Paulo",
      "UF": "SP",
      "CEP": "01000000"
    },
    "Certificado": {
      "Arquivo": "certificado.pfx",
      "Senha": "senha_certificado"
    },
    "WebService": {
      "Ambiente": 2,
      "UF": "SP",
      "Modelo": "65",
      "Versao": "4.00"
    },
    "Contingencia": {
      "Habilitada": true,
      "TipoEmissao": 9,
      "JustificativaContingencia": "Problemas técnicos"
    },
    "Configuracoes": {
      "SalvarXmlEnvio": true,
      "SalvarXmlRetorno": true,
      "TimeoutWebService": 30000,
      "TentativasEnvio": 3,
      "IntervaloTentativas": 5000
    }
  },
  "Payment": {
    "DefaultProcessor": "Mock",
    "Processors": {
      "Mock": {
        "Enabled": true,
        "SimulateDelay": true,
        "DelayMs": 500
      },
      "Stone": {
        "Enabled": false,
        "ApiKey": "",
        "Environment": "sandbox"
      },
      "Cielo": {
        "Enabled": false,
        "MerchantId": "",
        "MerchantKey": "",
        "Environment": "sandbox"
      }
    },
    "Validation": {
      "ValidateCardNumber": true,
      "ValidateExpiryDate": true,
      "ValidateSecurityCode": true,
      "MaxInstallments": 12
    },
    "Timeout": {
      "CreditCard": 30000,
      "DebitCard": 20000,
      "Pix": 10000
    }
  },
  "RateLimit": {
    "MaxRequests": 100,
    "WindowSizeInMinutes": 1
  },
  "Cors": {
    "AllowedOrigins": [
      "https://localhost:3000",
      "https://localhost:5001"
    ],
    "ApiAllowedOrigins": []
  },
  "AllowedHosts": "*"
  ,
  "Hosting": {
    "Urls": "http://localhost:7001"
  },
  "Swagger": {
    "RoutePrefix": "api-docs"
  }
}
