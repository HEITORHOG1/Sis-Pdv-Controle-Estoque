{
  "ConnectionStrings": {
    "DefaultConnection": "Server=${DB_SERVER};Database=${DB_NAME};Uid=${DB_USER};Pwd=${DB_PASSWORD};AllowPublicKeyRetrieval=true;SslMode=Required;",
    "ControleFluxoCaixaConnectionString": "Server=${DB_SERVER};Database=${DB_NAME};Uid=${DB_USER};Pwd=${DB_PASSWORD};AllowPublicKeyRetrieval=true;SslMode=Required;",
    "RabbitMQ": "amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}/"
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information",
        "System": "Warning",
        "Microsoft.EntityFrameworkCore": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "restrictedToMinimumLevel": "Information",
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "/app/logs/pdv-api-.log",
          "restrictedToMinimumLevel": "Information",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 30,
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] {CorrelationId} {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [
      "FromLogContext",
      "WithCorrelationId",
      "WithEnvironmentName",
      "WithMachineName",
      "WithProcessId",
      "WithThreadId"
    ]
  },
  "RabbitMQ": {
    "HostName": "${RABBITMQ_HOST}",
    "UserName": "${RABBITMQ_USER}",
    "Password": "${RABBITMQ_PASSWORD}"
  },
  "Authentication": {
    "JwtSecret": "${JWT_SECRET}",
    "Issuer": "PDV-System-Staging",
    "Audience": "PDV-Users",
    "TokenExpirationMinutes": 30,
    "RefreshTokenExpirationDays": 3
  },

  "Backup": {
    "BackupDirectory": "/app/backups",
    "RetentionDays": 14,
    "CompressBackups": true,
    "VerifyWithTestRestore": true
  },
  "BackupSchedule": {
    "EnableScheduledBackups": true,
    "DatabaseBackupSchedule": {
      "Enabled": true,
      "Type": "Database",
      "Frequency": "Daily",
      "Interval": 1,
      "PreferredTime": "02:00:00"
    },
    "FileBackupSchedule": {
      "Enabled": false,
      "Type": "Files",
      "Frequency": "Weekly",
      "Interval": 1,
      "PreferredTime": "03:00:00"
    },
    "FullBackupSchedule": {
      "Enabled": true,
      "Type": "Full",
      "Frequency": "Weekly",
      "Interval": 1,
      "PreferredTime": "01:00:00"
    },
    "DatabaseRetentionDays": 14,
    "FileRetentionDays": 7,
    "FullBackupRetentionDays": 30
  },
  "HealthChecks": {
    "EvaluationTimeInSeconds": 30,
    "MaximumHistoryEntriesPerEndpoint": 50,
    "UI": {
      "MaximumExecutionHistoriesPerEndpoint": 100,
      "ApiPath": "/health-ui-api",
      "UIPath": "/health-ui"
    }
  },
  "AllowedHosts": "*"
}